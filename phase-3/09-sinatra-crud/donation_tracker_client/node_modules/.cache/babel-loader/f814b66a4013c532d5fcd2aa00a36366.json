{"ast":null,"code":"var _jsxFileName = \"/Users/aysan/SENG-LIVE-083021/phase-3/09-sinatra-crud/donation_tracker_client/src/components/donation/Donation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport EditDonation from \"./EditDonation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Donation({\n  donation,\n  deleteDonation,\n  onUpdateDonation\n}) {\n  _s();\n\n  const {\n    id,\n    amount,\n    date\n  } = donation;\n  const [isEditing, setIsEditing] = useState(false);\n\n  const handleDonationUpdate = updatedDonation => {\n    setIsEditing(false);\n    onUpdateDonation(updatedDonation);\n  }; // Making a DELETE fetch request to delete a single donation\n\n\n  const handleDelete = () => {\n    deleteDonation(id);\n    fetch(`http://localhost:9292/donations/${id}`, {\n      method: \"DELETE\"\n    });\n  };\n\n  const formatDate = string => {\n    var options = {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\"\n    };\n    return new Date(string).toUTCString('en-US', options);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isEditing ? /*#__PURE__*/_jsxDEV(EditDonation, {\n      donation: donation,\n      onUpdateDonation: handleDonationUpdate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"li\", {\n      style: {\n        listStyleType: \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Amount: \", amount, \" - Date: \", formatDate(date), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsEditing(isEditing => !isEditing),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Donation, \"N4qUVpaen/rROL8jPu/4huFD8lA=\");\n\n_c = Donation;\nexport default Donation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Donation\");","map":{"version":3,"sources":["/Users/aysan/SENG-LIVE-083021/phase-3/09-sinatra-crud/donation_tracker_client/src/components/donation/Donation.js"],"names":["React","useState","EditDonation","Donation","donation","deleteDonation","onUpdateDonation","id","amount","date","isEditing","setIsEditing","handleDonationUpdate","updatedDonation","handleDelete","fetch","method","formatDate","string","options","year","month","day","Date","toUTCString","listStyleType"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;;AAEA,SAASC,QAAT,CAAkB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,cAAZ;AAA4BC,EAAAA;AAA5B,CAAlB,EAAkE;AAAA;;AAChE,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,MAAN;AAAcC,IAAAA;AAAd,MAAuBL,QAA7B;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,KAAD,CAA1C;;AAEA,QAAMW,oBAAoB,GAAIC,eAAD,IAAqB;AAChDF,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAL,IAAAA,gBAAgB,CAACO,eAAD,CAAhB;AACD,GAHD,CAJgE,CAUhE;;;AACA,QAAMC,YAAY,GAAG,MAAM;AACzBT,IAAAA,cAAc,CAACE,EAAD,CAAd;AACAQ,IAAAA,KAAK,CAAE,mCAAkCR,EAAG,EAAvC,EAA0C;AAC7CS,MAAAA,MAAM,EAAE;AADqC,KAA1C,CAAL;AAGD,GALD;;AAOA,QAAMC,UAAU,GAAIC,MAAD,IAAY;AAC7B,QAAIC,OAAO,GAAG;AAAEC,MAAAA,IAAI,EAAE,SAAR;AAAmBC,MAAAA,KAAK,EAAE,MAA1B;AAAkCC,MAAAA,GAAG,EAAE;AAAvC,KAAd;AACA,WAAO,IAAIC,IAAJ,CAASL,MAAT,EAAiBM,WAAjB,CAA6B,OAA7B,EAAsCL,OAAtC,CAAP;AACD,GAHD;;AAKA,sBACE;AAAA,cACGT,SAAS,gBACR,QAAC,YAAD;AACE,MAAA,QAAQ,EAAEN,QADZ;AAEE,MAAA,gBAAgB,EAAEQ;AAFpB;AAAA;AAAA;AAAA;AAAA,YADQ,gBAMR;AAAI,MAAA,KAAK,EAAE;AAAEa,QAAAA,aAAa,EAAE;AAAjB,OAAX;AAAA,6BACE;AAAA,+BACWjB,MADX,eAC4BS,UAAU,CAACR,IAAD,CADtC,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAME,YAAY,CAAED,SAAD,IAAe,CAACA,SAAjB,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAKE;AAAQ,UAAA,OAAO,EAAEI,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA,UADF;AAoBD;;GA3CQX,Q;;KAAAA,Q;AA6CT,eAAeA,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport EditDonation from \"./EditDonation\";\n\nfunction Donation({ donation, deleteDonation, onUpdateDonation }) {\n  const { id, amount, date } = donation;\n  const [isEditing, setIsEditing] = useState(false);\n\n  const handleDonationUpdate = (updatedDonation) => {\n    setIsEditing(false);\n    onUpdateDonation(updatedDonation);\n  };\n\n\n  // Making a DELETE fetch request to delete a single donation\n  const handleDelete = () => {\n    deleteDonation(id);\n    fetch(`http://localhost:9292/donations/${id}`, {\n      method: \"DELETE\",\n    });\n  };\n\n  const formatDate = (string) => {\n    var options = { year: \"numeric\", month: \"long\", day: \"numeric\" };\n    return new Date(string).toUTCString('en-US', options);\n  }\n\n  return (\n    <div>\n      {isEditing ? (\n        <EditDonation\n          donation={donation}\n          onUpdateDonation={handleDonationUpdate}\n        />\n      ) : (\n        <li style={{ listStyleType: \"none\" }}>\n          <p>\n            Amount: {amount} - Date: {formatDate(date)}\n            <button onClick={() => setIsEditing((isEditing) => !isEditing)}>\n              Edit\n            </button>\n            <button onClick={handleDelete}>Delete</button>\n          </p>\n        </li>\n      )}\n    </div>\n  );\n}\n\nexport default Donation;\n"]},"metadata":{},"sourceType":"module"}